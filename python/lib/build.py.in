#!/usr/bin/env python
# vim: set fileencoding=utf-8 :
# Andre Anjos <andre.dos.anjos@gmail.com>
# Tue 14 Feb 21:17:18 2012 

"""Version information collected during Bob's build
"""

import os

import warnings #to account for ipython double readline import
warnings.simplefilter('ignore')
import pkg_resources
warnings.simplefilter('default')

distribution = pkg_resources.require('bob')[0]
version = distribution.version
system = distribution.platform.split('-')[0]
platform = distribution.platform + "-@CMAKE_BUILD_TYPE@".lower()
prefixes = [k for k in [path.strip() for path in "@CMAKE_PREFIX_PATH@".split(os.pathsep)] if k]
del k
python_version = distribution.py_version
python_dependencies = [(k.project_name, k.version) for k in pkg_resources.require('bob')[1:]]
source_directory = "@CMAKE_SOURCE_DIR@"

def source_file(relative_path):
  """Gets the path to the given input file 'relative'

  This method takes into consideration the build-set CMAKE_SOURCE_DIR and
  returns the absolute path of the file with the relative path given as input.

  Keyword parameters:

  relative_path
    The relative path of the file in the source tree you want to have the full
    name of. The path should be given using unix '/' forward-slash separators
    independently of the current OS you are running on.
  """

  components = [source_directory] + relative_path.split('/')
  return os.path.abspath(os.path.join(*components))

del pkg_resources
del warnings
del os
